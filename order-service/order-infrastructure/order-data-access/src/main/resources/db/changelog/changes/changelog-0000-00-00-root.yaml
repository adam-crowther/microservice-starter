databaseChangeLog:
  - changeSet:
      id: 1683097474926-1
      author: micro (generated)
      changes:
        - createTable:
            columns:
              - column:
                  constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: airlinesPK
                  name: id
                  type: BIGINT
              - column:
                  constraints:
                    nullable: false
                  name: kafka_offset
                  type: BIGINT
              - column:
                  constraints:
                    nullable: false
                  name: kafka_partition
                  type: INT
              - column:
                  constraints:
                    nullable: false
                  name: version
                  type: BIGINT
              - column:
                  name: active
                  type: BOOLEAN
              - column:
                  name: name
                  type: VARCHAR(255)
            tableName: airlines
  - changeSet:
      id: 1683097474926-2
      author: micro (generated)
      changes:
        - createTable:
            columns:
              - column:
                  constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: customersPK
                  name: id
                  type: BIGINT
              - column:
                  constraints:
                    nullable: false
                  name: kafka_offset
                  type: BIGINT
              - column:
                  constraints:
                    nullable: false
                  name: kafka_partition
                  type: INT
              - column:
                  constraints:
                    nullable: false
                  name: version
                  type: BIGINT
              - column:
                  name: first_name
                  type: VARCHAR(255)
              - column:
                  name: last_name
                  type: VARCHAR(255)
              - column:
                  name: user_name
                  type: VARCHAR(255)
            tableName: customers
  - changeSet:
      id: 1683097474926-3
      author: micro (generated)
      changes:
        - createTable:
            columns:
              - column:
                  constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: flightsPK
                  name: id
                  type: BIGINT
              - column:
                  constraints:
                    nullable: false
                  name: kafka_offset
                  type: BIGINT
              - column:
                  constraints:
                    nullable: false
                  name: kafka_partition
                  type: INT
              - column:
                  constraints:
                    nullable: false
                  name: version
                  type: BIGINT
              - column:
                  name: flight_number
                  type: VARCHAR(255)
              - column:
                  name: flight_price_amount
                  type: NUMBER(38, 2)
              - column:
                  name: flight_price_currency_id
                  type: VARCHAR(255)
              - column:
                  name: airline_id
                  type: BIGINT
            tableName: flights
  - changeSet:
      id: 1683097474926-4
      author: micro (generated)
      changes:
        - createTable:
            columns:
              - column:
                  constraints:
                    nullable: false
                  name: order_id
                  type: BIGINT
              - column:
                  name: failure_message
                  type: VARCHAR(255)
            tableName: order_failure_messages
  - changeSet:
      id: 1683097474926-5
      author: micro (generated)
      changes:
        - createTable:
            columns:
              - column:
                  autoIncrement: true
                  constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: order_itemsPK
                  name: id
                  type: BIGINT
              - column:
                  name: created_by
                  type: VARCHAR(255)
              - column:
                  name: created_timestamp
                  type: timestamp
              - column:
                  name: lasted_modified_by
                  type: VARCHAR(255)
              - column:
                  name: last_modified_timestamp
                  type: timestamp
              - column:
                  constraints:
                    nullable: false
                  name: version
                  type: BIGINT
              - column:
                  name: flight_id
                  type: BIGINT
              - column:
                  name: owner_id
                  type: BIGINT
              - column:
                  name: quantity
                  type: INT
            tableName: order_items
  - changeSet:
      id: 1683097474926-6
      author: micro (generated)
      changes:
        - createTable:
            columns:
              - column:
                  autoIncrement: true
                  constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: ordersPK
                  name: id
                  type: BIGINT
              - column:
                  name: created_by
                  type: VARCHAR(255)
              - column:
                  name: created_timestamp
                  type: timestamp
              - column:
                  name: lasted_modified_by
                  type: VARCHAR(255)
              - column:
                  name: last_modified_timestamp
                  type: timestamp
              - column:
                  constraints:
                    nullable: false
                  name: version
                  type: BIGINT
              - column:
                  name: city
                  type: VARCHAR(255)
              - column:
                  name: postal_code
                  type: VARCHAR(255)
              - column:
                  name: street
                  type: VARCHAR(255)
              - column:
                  name: airline_id
                  type: BIGINT
              - column:
                  name: customer_id
                  type: BIGINT
              - column:
                  name: order_status
                  type: VARCHAR(255)
              - column:
                  name: price_amount
                  type: NUMBER(38, 2)
              - column:
                  name: price_currency_id
                  type: VARCHAR(255)
              - column:
                  name: tracking_id
                  type: VARCHAR(36)
            tableName: orders
  - changeSet:
      id: 1683097474926-7
      author: micro (generated)
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: order_id
            baseTableName: order_failure_messages
            constraintName: FK5vvs9mekc0mj6p5pjge87ewqi
            deferrable: false
            initiallyDeferred: false
            referencedColumnNames: id
            referencedTableName: orders
            validate: true
  - changeSet:
      id: 1683097474926-8
      author: micro (generated)
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: owner_id
            baseTableName: order_items
            constraintName: FKg5lu5i310tyh4chh1ao0ycl2o
            deferrable: false
            initiallyDeferred: false
            referencedColumnNames: id
            referencedTableName: orders
            validate: true
  - changeSet:
      id: 1683097474926-9
      author: micro (generated)
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: airline_id
            baseTableName: flights
            constraintName: FKieor4j3ivp3xu584qenhfh0gd
            deferrable: false
            initiallyDeferred: false
            referencedColumnNames: id
            referencedTableName: airlines
            validate: true


plugins {
  id 'java'
  alias pluginLibs.plugins.avro
  id 'checkstyle'
  id 'jacoco'
  alias pluginLibs.plugins.spotbugs
}

apply from: "${rootDir}/java.gradle"

dependencies {
  implementation libs.apache.avro
  implementation libs.google.guava
  implementation libs.jackson.core
  implementation libs.kafka.avro.serializer
  implementation libs.kafka.clients
}

avro {
  createSetters = false
  gettersReturnOptional = true
  optionalGettersForNullableFieldsOnly = true
  stringType = "String"
  enableDecimalLogicalType = true
  fieldVisibility = "PRIVATE"
}

test {
  useJUnitPlatform()
  testLogging {
    events "passed", "skipped", "failed"
  }
}